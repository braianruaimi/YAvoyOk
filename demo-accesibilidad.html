<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, maximum-scale=3.0">
    
    <!-- PWA Configuration -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="YAvoy Accesibilidad">
    <meta name="application-name" content="YAvoy Accesibilidad">
    <meta name="theme-color" content="#06b6d4">
    <meta name="msapplication-TileColor" content="#06b6d4">
    
    <!-- Manifest for PWA -->
    <link rel="manifest" href="manifest-demo.json">
    
    <title>üåü YAvoyOk - Demo Accesibilidad Adaptativa</title>
    <style>
        /* Reseteo b√°sico y variables */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Colores originales */
            --bg-dark: #0f1724;
            --bg-card: rgba(11, 18, 32, 0.85);
            --cyan: #06b6d4;
            --gold: #fbbf24;
            --white: #ffffff;
            --gray: #94a3b8;
            
            /* Colores de accesibilidad */
            --contrast-high: #000000;
            --contrast-text: #ffffff;
            --focus-ring: #0066ff;
            --warning: #ff6b35;
            --success: #10b981;
            
            /* Variables de tama√±o de fuente */
            --font-size-base: 16px;
            --font-size-large: 20px;
            --font-size-xl: 24px;
            --font-size-xxl: 28px;
            
            /* Variables adaptativas para dispositivos */
            --mobile-padding: 12px;
            --desktop-padding: 20px;
            --mobile-font-base: 18px;
            --desktop-font-base: 16px;
            --touch-target-min: 44px;
            --mobile-toolbar-height: 70px;
            --desktop-toolbar-height: 60px;
        }

        /* ADAPTACI√ìN AUTOM√ÅTICA DE DISPOSITIVOS */
        @media (max-width: 768px) {
            :root {
                --font-size-base: var(--mobile-font-base);
                --padding-base: var(--mobile-padding);
                --toolbar-height: var(--mobile-toolbar-height);
            }
            
            .mobile-only { display: block !important; }
            .desktop-only { display: none !important; }
            
            /* Toolbar adaptativo m√≥vil */
            .accessibility-toolbar {
                position: fixed !important;
                bottom: 0 !important;
                top: auto !important;
                height: var(--mobile-toolbar-height) !important;
                padding: 10px !important;
                flex-wrap: wrap !important;
                justify-content: center !important;
                border-top: 2px solid var(--cyan) !important;
                border-bottom: none !important;
                z-index: 10000 !important;
            }
            
            /* Botones m√°s grandes para touch */
            .accessibility-btn {
                min-width: var(--touch-target-min) !important;
                min-height: var(--touch-target-min) !important;
                font-size: 11px !important;
                margin: 2px !important;
                padding: 6px !important;
            }
            
            /* Contenido principal adaptativo */
            body {
                padding-bottom: calc(var(--mobile-toolbar-height) + 20px) !important;
                font-size: var(--mobile-font-base) !important;
            }
            
            /* Demo components m√≥vil */
            .demo-component {
                padding: 15px !important;
                margin: 10px 0 !important;
            }
            
            .demo-grid {
                grid-template-columns: 1fr !important;
                gap: 10px !important;
            }
        }
        
        @media (min-width: 769px) {
            .mobile-only { display: none !important; }
            .desktop-only { display: block !important; }
        }
        
        /* Orientaci√≥n landscape m√≥vil */
        @media screen and (orientation: landscape) and (max-height: 500px) {
            .accessibility-toolbar {
                height: 50px !important;
                padding: 5px !important;
            }
            
            .accessibility-btn {
                min-height: 36px !important;
                font-size: 10px !important;
                padding: 4px !important;
                margin: 1px !important;
            }
            
            body {
                padding-bottom: 70px !important;
            }
        }

        /* TEMA ALTO CONTRASTE */
        .high-contrast {
            --bg-dark: #000000;
            --bg-card: #ffffff;
            --cyan: #0066ff;
            --gold: #ffaa00;
            --white: #000000;
            --gray: #000000;
        }

        /* CONFIGURACI√ìN DE FUENTES ESCALABLES */
        .font-normal { font-size: var(--font-size-base); }
        .font-large { font-size: var(--font-size-large); }
        .font-xl { font-size: var(--font-size-xl); }
        .font-xxl { font-size: var(--font-size-xxl); }
        
        /* Tama√±o m√°ximo para m√≥vil */
        .font-mobile-max {
            font-size: 32px !important;
        }
        
        .font-mobile-max h1 { font-size: 48px !important; }
        .font-mobile-max h2 { font-size: 40px !important; }
        .font-mobile-max h3 { font-size: 36px !important; }
        
        .font-mobile-max .accessibility-btn {
            font-size: 16px !important;
            padding: 12px !important;
        }
        
        .font-mobile-max .demo-component {
            font-size: 28px !important;
        }

        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-dark);
            color: var(--white);
            transition: all 0.3s ease;
            line-height: 1.6;
        }

        /* BARRA DE ACCESIBILIDAD FIJA */
        .accessibility-toolbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.95);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            padding: 10px 20px;
            z-index: 9999;
            display: flex;
            gap: 15px;
            align-items: center;
            border-bottom: 2px solid var(--cyan);
            overflow-x: auto;
        }

        .accessibility-btn {
            background: var(--cyan);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            white-space: nowrap;
            min-width: -webkit-fill-available;
            min-width: fit-content;
        }

        .accessibility-btn:hover, 
        .accessibility-btn:focus {
            background: var(--gold);
            transform: scale(1.05);
            outline: 2px solid var(--focus-ring);
            outline-offset: 2px;
        }

        .accessibility-btn.active {
            background: var(--gold);
            box-shadow: 0 0 10px var(--gold);
        }

        /* CONTENIDO PRINCIPAL */
        .main-content {
            margin-top: 80px;
            padding: 20px;
        }

        .demo-header {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, var(--cyan), var(--gold));
            border-radius: 20px;
            margin-bottom: 30px;
        }

        .demo-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .demo-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* SECCIONES DE DEMOSTRACI√ìN */
        .demo-section {
            background: var(--bg-card);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .demo-section:focus-within {
            border-color: var(--focus-ring);
            box-shadow: 0 0 20px rgba(0, 102, 255, 0.3);
        }

        .section-title {
            font-size: 1.8rem;
            color: var(--cyan);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-icon {
            font-size: 2rem;
        }

        /* COMPONENTES DEMO */
        .demo-component {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .demo-component h4 {
            color: var(--gold);
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        /* BOTONES ACCESIBLES */
        .btn-demo {
            background: var(--cyan);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 5px;
            position: relative;
            min-height: 48px; /* Tama√±o m√≠nimo t√°ctil */
        }

        .btn-demo:hover,
        .btn-demo:focus {
            background: var(--gold);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(6, 182, 212, 0.4);
            outline: 3px solid var(--focus-ring);
            outline-offset: 2px;
        }

        /* FORMULARIOS ACCESIBLES */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--cyan);
        }

        .form-input {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--gray);
            border-radius: 8px;
            background: var(--bg-dark);
            color: var(--white);
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            border-color: var(--cyan);
            outline: 3px solid var(--focus-ring);
            outline-offset: 2px;
            box-shadow: 0 0 10px rgba(6, 182, 212, 0.3);
        }

        /* INDICADORES DE ESTADO */
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: 600;
        }

        .status-success {
            background: rgba(16, 185, 129, 0.2);
            border: 2px solid var(--success);
            color: var(--success);
        }

        .status-warning {
            background: rgba(255, 107, 53, 0.2);
            border: 2px solid var(--warning);
            color: var(--warning);
        }

        /* LECTOR DE PANTALLA - Texto oculto visualmente pero accesible */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* SKIP LINKS */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: var(--contrast-high);
            color: var(--contrast-text);
            padding: 8px;
            text-decoration: none;
            border-radius: 4px;
            z-index: 10000;
            font-weight: bold;
        }

        .skip-link:focus {
            top: 6px;
        }

        /* √ÅREA DE NOTIFICACIONES */
        .live-region {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
            max-width: 300px;
            z-index: 9998;
        }

        .live-region.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* MODO NAVEGACI√ìN POR TECLADO */
        .keyboard-navigation .tab-focused {
            outline: 3px solid var(--gold);
            outline-offset: 3px;
            background: rgba(251, 191, 36, 0.1);
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .accessibility-toolbar {
                flex-wrap: wrap;
                padding: 8px 10px;
            }
            
            .accessibility-btn {
                font-size: 10px;
                padding: 6px 10px;
            }
            
            .main-content {
                margin-top: 100px;
                padding: 15px;
            }
            
            .demo-title {
                font-size: 2rem;
            }
        }

        /* ANIMACIONES REDUCIDAS PARA USUARIOS SENSIBLES */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* INDICADOR DE CARGA CON TEXTO */
        .loading-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background: rgba(6, 182, 212, 0.1);
            border-radius: 8px;
            border: 2px solid var(--cyan);
        }

        .loading-spinner {
            width: 20px;
            height: 20px;
            border: 2px solid var(--gray);
            border-top: 2px solid var(--cyan);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* CARDS INTERACTIVAS */
        .interactive-card {
            background: var(--bg-card);
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .interactive-card:hover,
        .interactive-card:focus {
            border-color: var(--cyan);
            box-shadow: 0 8px 25px rgba(6, 182, 212, 0.2);
            transform: translateY(-3px);
        }

        .interactive-card:focus {
            outline: 3px solid var(--focus-ring);
            outline-offset: 2px;
        }

        /* BREADCRUMBS ACCESIBLES */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding: 10px 0;
        }

        .breadcrumb a {
            color: var(--cyan);
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .breadcrumb a:hover,
        .breadcrumb a:focus {
            background: rgba(6, 182, 212, 0.2);
            outline: 2px solid var(--focus-ring);
        }

        .breadcrumb-separator {
            color: var(--gray);
        }

        /* TOOLTIPS ACCESIBLES */
        .tooltip-container {
            position: relative;
            display: inline-block;
        }

        .tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--contrast-high);
            color: var(--contrast-text);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 5px solid transparent;
            border-top-color: var(--contrast-high);
        }

        .tooltip-container:hover .tooltip,
        .tooltip-container:focus .tooltip {
            opacity: 1;
            visibility: visible;
        }

        /* CHATBOT IA AVANZADO */
        .chatbot-container {
            background: var(--bg-card);
            border: 2px solid var(--cyan);
            border-radius: 15px;
            max-width: 600px;
            margin: 20px auto;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .chatbot-header {
            background: linear-gradient(135deg, var(--cyan), var(--gold));
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .bot-avatar {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .bot-info h5 {
            margin: 0;
            color: white;
            font-size: 18px;
        }

        .bot-status {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
        }

        .chatbot-toggle {
            margin-left: auto;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            cursor: pointer;
            font-size: 16px;
        }

        .chatbot-messages {
            height: 300px;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            display: flex;
            gap: 10px;
            align-items: flex-start;
        }

        .message.user-message {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .bot-message .message-avatar {
            background: var(--cyan);
        }

        .user-message .message-avatar {
            background: var(--gold);
        }

        .message-content {
            max-width: 80%;
            flex: 1;
        }

        .message-text {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px 15px;
            border-radius: 15px;
            line-height: 1.5;
        }

        .user-message .message-text {
            background: var(--gold);
            color: var(--bg-dark);
        }

        .message-time {
            font-size: 12px;
            color: var(--gray);
            margin-top: 5px;
            text-align: right;
        }

        .user-message .message-time {
            text-align: left;
        }

        .chatbot-input-container {
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .chatbot-input {
            flex: 1;
            background: var(--bg-dark);
            border: 2px solid var(--gray);
            border-radius: 25px;
            padding: 12px 20px;
            color: var(--white);
            font-size: 14px;
            outline: none;
        }

        .chatbot-input:focus {
            border-color: var(--cyan);
            box-shadow: 0 0 10px rgba(6, 182, 212, 0.3);
        }

        .chatbot-send {
            background: var(--cyan);
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .chatbot-send:hover {
            background: var(--gold);
            transform: scale(1.1);
        }

        .chatbot-suggestions {
            padding: 15px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            background: rgba(255, 255, 255, 0.02);
        }

        .suggestion-chip {
            background: rgba(6, 182, 212, 0.2);
            color: var(--cyan);
            border: 1px solid var(--cyan);
            border-radius: 20px;
            padding: 8px 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .suggestion-chip:hover {
            background: var(--cyan);
            color: white;
        }

        /* CONTROLES DE CONFIGURACI√ìN */
        .config-controls {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .config-group {
            margin-bottom: 20px;
        }

        .config-group label {
            display: block;
            color: var(--cyan);
            margin-bottom: 8px;
            font-weight: 600;
        }

        .config-group input[type="range"] {
            width: 100%;
            margin-bottom: 5px;
        }

        .config-group span {
            color: var(--gold);
            font-weight: 600;
            font-size: 14px;
        }

        .config-group select {
            width: 100%;
            background: var(--bg-dark);
            color: var(--white);
            border: 2px solid var(--gray);
            border-radius: 8px;
            padding: 10px;
            font-size: 14px;
        }

        .config-group select:focus {
            border-color: var(--cyan);
            outline: none;
        }

        .preset-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .preset-buttons .btn-demo {
            flex: 1;
            min-width: 150px;
            font-size: 14px;
        }

        /* ANIMACI√ìN DE ESCRITURA */
        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 15px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--cyan);
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { opacity: 0.3; transform: scale(0.8); }
            30% { opacity: 1; transform: scale(1); }
        }

        /* RESPONSIVE CHATBOT */
        @media (max-width: 768px) {
            .chatbot-container {
                margin: 10px;
                max-width: none;
            }
            
            .chatbot-messages {
                height: 250px;
                padding: 15px;
            }
            
            .preset-buttons .btn-demo {
                min-width: 120px;
                font-size: 12px;
                padding: 10px 15px;
            }
        }
    </style>
</head>

<body class="font-normal" id="body">
    <!-- Skip Links para navegaci√≥n por teclado -->
    <a href="#main-content" class="skip-link">Saltar al contenido principal</a>
    <a href="#accessibility-toolbar" class="skip-link">Ir a herramientas de accesibilidad</a>

    <!-- BARRA DE HERRAMIENTAS DE ACCESIBILIDAD -->
    <div class="accessibility-toolbar" id="accessibility-toolbar" role="toolbar" 
         aria-label="Herramientas de accesibilidad">
        
        <button class="accessibility-btn" onclick="toggleContrast()" 
                aria-label="Alternar modo alto contraste"
                title="Cambiar a modo alto contraste para mejor legibilidad">
            üéØ Contraste
        </button>

        <button class="accessibility-btn" onclick="changeFontSize('increase')" 
                aria-label="Aumentar tama√±o de fuente"
                title="Hacer el texto m√°s grande">
            üîç+ Texto
        </button>

        <button class="accessibility-btn" onclick="changeFontSize('decrease')" 
                aria-label="Disminuir tama√±o de fuente"
                title="Hacer el texto m√°s peque√±o">
            üîç- Texto
        </button>

        <button class="accessibility-btn" onclick="toggleVoiceReader()" 
                aria-label="Activar lector de voz"
                title="Escuchar el contenido en voz alta">
            üîä Voz
        </button>

        <button class="accessibility-btn" onclick="toggleKeyboardNav()" 
                aria-label="Activar navegaci√≥n por teclado"
                title="Navegar usando solo el teclado">
            ‚å®Ô∏è Teclado
        </button>

        <button class="accessibility-btn" onclick="toggleSubtitles()" 
                aria-label="Activar subt√≠tulos"
                title="Mostrar subt√≠tulos para contenido auditivo">
            üí¨ Subt√≠tulos
        </button>

        <button class="accessibility-btn" onclick="pauseAnimations()" 
                aria-label="Pausar animaciones"
                title="Detener movimientos que puedan causar molestias">
            ‚è∏Ô∏è Animaciones
        </button>

        <button class="accessibility-btn" onclick="resetAccessibility()" 
                aria-label="Restaurar configuraci√≥n original"
                title="Volver a la configuraci√≥n predeterminada">
            üîÑ Reset
        </button>
    </div>

    <!-- REGI√ìN PARA ANUNCIOS DEL LECTOR DE PANTALLA -->
    <div aria-live="polite" aria-atomic="true" class="sr-only" id="announce"></div>

    <!-- CONTENIDO PRINCIPAL -->
    <main class="main-content" id="main-content">
        <!-- HEADER PRINCIPAL -->
        <header class="demo-header">
            <h1 class="demo-title">üåü YAvoyOk Accesible</h1>
            <p class="demo-subtitle">
                Demostraci√≥n de Funciones de Accesibilidad<br>
                <strong>Inclusi√≥n para todos: Visual ‚Ä¢ Auditiva ‚Ä¢ Motriz</strong>
            </p>
        </header>

        <!-- NAVEGACI√ìN CON BREADCRUMBS -->
        <nav aria-label="Navegaci√≥n de secciones" class="breadcrumb">
            <a href="#main-content" aria-current="page">Inicio</a>
            <span class="breadcrumb-separator" aria-hidden="true">‚Üí</span>
            <span>Demo Accesibilidad</span>
        </nav>

        <!-- SECCI√ìN: ACCESIBILIDAD VISUAL -->
        <section class="demo-section" id="visual-accessibility">
            <h2 class="section-title">
                <span class="section-icon" aria-hidden="true">üëÅÔ∏è</span>
                Accesibilidad Visual
            </h2>

            <div class="demo-component">
                <h4>üéØ Alto Contraste</h4>
                <p>Colores optimizados para usuarios con baja visi√≥n o daltonismo.</p>
                <div class="status-indicator status-success">
                    <span aria-hidden="true">‚úÖ</span>
                    Contraste WCAG AA/AAA compatible
                </div>
            </div>

            <div class="demo-component">
                <h4>üîç Zoom de Texto Escalable</h4>
                <p>Tama√±o de fuente ajustable hasta 200% sin p√©rdida de funcionalidad.</p>
                <div class="tooltip-container">
                    <button class="btn-demo" 
                            aria-describedby="zoom-tooltip"
                            onmouseover="announceToSR('Bot√≥n de ejemplo con zoom de texto')">
                        Bot√≥n de Ejemplo
                    </button>
                    <div class="tooltip" id="zoom-tooltip" role="tooltip">
                        Este bot√≥n se adapta al tama√±o de texto configurado
                    </div>
                </div>
            </div>

            <div class="demo-component">
                <h4>üé® Indicadores Visuales Mejorados</h4>
                <div class="interactive-card" tabindex="0" 
                     role="button" 
                     aria-label="Tarjeta interactiva de comercio: Pizzer√≠a Mario"
                     onkeypress="handleCardInteraction(event)">
                    <h5>üçï Pizzer√≠a Mario</h5>
                    <p>Distancia: 2.3 km ‚Ä¢ Rating: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                    <div class="status-indicator status-success">
                        <span aria-hidden="true">üü¢</span>
                        <span>Abierto ahora</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECCI√ìN: ACCESIBILIDAD AUDITIVA -->
        <section class="demo-section" id="audio-accessibility">
            <h2 class="section-title">
                <span class="section-icon" aria-hidden="true">üëÇ</span>
                Accesibilidad Auditiva
            </h2>

            <div class="demo-component">
                <h4>üí¨ Subt√≠tulos y Transcripciones</h4>
                <p>Todas las notificaciones de audio incluyen texto visible.</p>
                <div class="status-indicator status-warning">
                    <span aria-hidden="true">üîî</span>
                    <strong>Notificaci√≥n:</strong> Tu pedido est√° en camino (5 min aprox.)
                </div>
            </div>

            <div class="demo-component">
                <h4>üîä Lector de Voz Integrado</h4>
                <p>Convierte texto a voz para usuarios con dificultades de lectura.</p>
                <button class="btn-demo" onclick="demoVoiceReader()">
                    üéµ Probar Lector de Voz
                </button>
                <div id="voice-demo-text" class="voice-demo-text">
                    "Bienvenido a YAvoyOk, la plataforma de delivery m√°s accesible de Argentina"
                </div>
            </div>

            <div class="demo-component">
                <h4>üì≥ Alertas Visuales</h4>
                <p>Reemplazo visual para todas las alertas sonoras.</p>
                <div class="loading-indicator">
                    <div class="loading-spinner" aria-hidden="true"></div>
                    <span>Buscando repartidores disponibles...</span>
                </div>
            </div>
        </section>

        <!-- SECCI√ìN: ACCESIBILIDAD MOTRIZ -->
        <section class="demo-section" id="motor-accessibility">
            <h2 class="section-title">
                <span class="section-icon" aria-hidden="true">‚úã</span>
                Accesibilidad Motriz
            </h2>

            <div class="demo-component">
                <h4>‚å®Ô∏è Navegaci√≥n Completa por Teclado</h4>
                <p>Todos los elementos interactivos son accesibles sin mouse.</p>
                <div class="demo-controls">
                    <button class="btn-demo" tabindex="1">Tab 1</button>
                    <button class="btn-demo" tabindex="2">Tab 2</button>
                    <button class="btn-demo" tabindex="3">Tab 3</button>
                </div>
                <p class="demo-description">
                    <kbd>Tab</kbd> para navegar ‚Ä¢ <kbd>Enter</kbd> para activar ‚Ä¢ <kbd>Esc</kbd> para cancelar
                </p>
            </div>

            <div class="demo-component">
                <h4>üéØ √Åreas de Toque Amplias</h4>
                <p>Botones de m√≠nimo 44px para facilitar la interacci√≥n t√°ctil.</p>
                <button class="btn-demo large-button">
                    üõí Hacer Pedido
                </button>
            </div>

            <div class="demo-component">
                <h4>üìù Formularios Optimizados</h4>
                <form onsubmit="return false;" class="demo-form">
                    <div class="form-group">
                        <label for="demo-direccion" class="form-label">
                            üè† Direcci√≥n de Entrega
                        </label>
                        <input type="text" 
                               id="demo-direccion" 
                               class="form-input"
                               placeholder="Ej: Av. Corrientes 1234, CABA"
                               aria-describedby="direccion-help"
                               autocomplete="street-address">
                        <div id="direccion-help" class="form-help">
                            Incluye n√∫mero de casa/departamento y referencias
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="demo-telefono" class="form-label">
                            üìû Tel√©fono de Contacto
                        </label>
                        <input type="tel" 
                               id="demo-telefono" 
                               class="form-input"
                               placeholder="+54 11 1234-5678"
                               aria-describedby="telefono-help"
                               autocomplete="tel">
                        <div id="telefono-help" class="form-help">
                            Para coordinar la entrega contigo
                        </div>
                    </div>
                    
                    <button type="submit" class="btn-demo">
                        ‚úÖ Confirmar Datos
                    </button>
                </form>
            </div>
        </section>

        <!-- SECCI√ìN: FUNCIONES ESPEC√çFICAS DE YAVOYOK -->
        <section class="demo-section" id="yavoyok-features">
            <h2 class="section-title">
                <span class="section-icon" aria-hidden="true">üöÄ</span>
                YAvoyOk Caracter√≠sticas Accesibles
            </h2>

            <div class="demo-component">
                <h4>üó∫Ô∏è Mapa con Descripci√≥n Textual</h4>
                <p>Informaci√≥n de ubicaci√≥n accesible sin dependencia visual del mapa.</p>
                <div class="info-box">
                    <strong>Repartidor m√°s cercano:</strong> A 850 metros de distancia<br>
                    <strong>Tiempo estimado:</strong> 12 minutos<br>
                    <strong>Ubicaci√≥n:</strong> Av. Santa Fe y Pueyrred√≥n
                </div>
            </div>

            <div class="demo-component">
                <h4>üì¶ Seguimiento de Pedido Descriptivo</h4>
                <div role="progressbar" 
                     aria-valuenow="3" 
                     aria-valuemin="1" 
                     aria-valuemax="5"
                     aria-label="Progreso del pedido: paso 3 de 5">
                    
                    <div class="status-header">
                        <span class="status-indicator status-success">
                            <span aria-hidden="true">‚úÖ</span> Pedido confirmado
                        </span>
                        <span class="status-indicator status-success">
                            <span aria-hidden="true">‚úÖ</span> Preparando
                        </span>
                        <span class="status-indicator status-warning">
                            <span aria-hidden="true">üîÑ</span> En camino
                        </span>
                        <span class="status-indicator inactive-status">
                            <span aria-hidden="true">‚è≥</span> Entregado
                        </span>
                    </div>
                    
                    <p><strong>Estado actual:</strong> Tu pedido est√° en camino. Tiempo estimado de llegada: 8 minutos.</p>
                </div>
            </div>

            <div class="demo-component">
                <h4>üí¨ Chat con Soporte Accesible</h4>
                <div class="chat-simulation">
                    <div class="chat-message">
                        <strong class="chat-support">Soporte YAvoy:</strong> 
                        ¬°Hola! ¬øEn qu√© puedo ayudarte hoy?
                    </div>
                    <div class="chat-message">
                        <strong class="chat-user">T√∫:</strong> 
                        Mi pedido lleva 20 minutos de retraso
                    </div>
                    <div class="chat-message">
                        <strong class="chat-support">Soporte YAvoy:</strong> 
                        Entiendo tu preocupaci√≥n. He contactado al repartidor y confirma que llegar√° en 5 minutos. Te mantendr√© informado.
                    </div>
                </div>
                <div class="chat-input-area">
                    <input type="text" 
                           class="form-input" 
                           placeholder="Escribe tu mensaje aqu√≠..."
                           aria-label="Campo de mensaje para chat de soporte">
                </div>
            </div>
        </section>

        <!-- SECCI√ìN: CHATBOT IA AVANZADO -->
        <section class="demo-section" id="ai-chatbot">
            <h2 class="section-title">
                <span class="section-icon" aria-hidden="true">ü§ñ</span>
                Chatbot IA Emp√°tico y Configurable
            </h2>

            <div class="demo-component">
                <h4>üß† Inteligencia Artificial Avanzada</h4>
                <p>Bot que detecta emociones, se adapta al usuario y ofrece experiencias personalizadas.</p>
                
                <!-- Interfaz del Chatbot -->
                <div class="chatbot-container" id="chatbotContainer">
                    <div class="chatbot-header">
                        <div class="bot-avatar">ü§ñ</div>
                        <div class="bot-info">
                            <h5>YAvoy AI Assistant</h5>
                            <span class="bot-status">üü¢ En l√≠nea ‚Ä¢ Listo para ayudar</span>
                        </div>
                        <button class="chatbot-toggle" onclick="toggleChatbot()" aria-label="Minimizar chatbot">
                            ‚ûñ
                        </button>
                    </div>
                    
                    <div class="chatbot-messages" id="chatbotMessages">
                        <div class="message bot-message">
                            <div class="message-avatar">ü§ñ</div>
                            <div class="message-content">
                                <div class="message-text">
                                    ¬°Hola! üëã Soy el asistente de YAvoy con IA avanzada. Puedo detectar emociones, personalizar respuestas y ayudarte de manera emp√°tica. 
                                    <br><br>
                                    <strong>Prueba escribiendo:</strong>
                                    <br>‚Ä¢ "Estoy frustrado con mi pedido"
                                    <br>‚Ä¢ "Quiero abrir un comercio"
                                    <br>‚Ä¢ "No entiendo c√≥mo funciona"
                                </div>
                                <div class="message-time">Ahora</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chatbot-input-container">
                        <input type="text" 
                               id="chatbotInput" 
                               placeholder="Escribe tu mensaje aqu√≠..." 
                               class="chatbot-input"
                               onkeypress="handleChatbotKeyPress(event)"
                               aria-label="Campo de mensaje del chatbot">
                        <button class="chatbot-send" 
                                id="btnEnviarChatbot"
                                onclick="sendChatbotMessage()"
                                aria-label="Enviar mensaje">
                            üì§
                        </button>
                    </div>
                    
                    <div class="chatbot-suggestions">
                        <button class="suggestion-chip" onclick="sendQuickMessage('Hacer un pedido')">üõí Hacer pedido</button>
                        <button class="suggestion-chip" onclick="sendQuickMessage('Tengo un problema')">‚ö†Ô∏è Tengo un problema</button>
                        <button class="suggestion-chip" onclick="sendQuickMessage('Soy comercio')">üè™ Soy comercio</button>
                    </div>
                </div>
            </div>

            <div class="demo-component">
                <h4>‚öôÔ∏è Configuraci√≥n en Tiempo Real</h4>
                <p>El bot se puede configurar din√°micamente para diferentes necesidades:</p>
                
                <div class="config-controls">
                    <div class="config-group">
                        <label for="empathy-demo">Nivel de Empat√≠a:</label>
                        <input type="range" id="empathy-demo" min="1" max="10" value="8" 
                               onchange="updateBotConfig('empathy', this.value)">
                        <span id="empathy-value">8/10</span>
                    </div>
                    
                    <div class="config-group">
                        <label for="promo-demo">Intensidad Promocional:</label>
                        <input type="range" id="promo-demo" min="1" max="10" value="6" 
                               onchange="updateBotConfig('promotional', this.value)">
                        <span id="promo-value">6/10</span>
                    </div>
                    
                    <div class="config-group">
                        <label for="style-demo">Estilo de Respuesta:</label>
                        <select id="style-demo" onchange="updateBotConfig('style', this.value)">
                            <option value="friendly">üòä Amigable</option>
                            <option value="professional">üíº Profesional</option>
                            <option value="casual">üòé Casual</option>
                        </select>
                    </div>
                    
                    <div class="preset-buttons">
                        <button class="btn-demo" onclick="setBotMode('accessibility')">‚ôø Modo Accesibilidad</button>
                        <button class="btn-demo" onclick="setBotMode('business')">üíº Modo Comercial</button>
                        <button class="btn-demo" onclick="setBotMode('support')">ü§ù Modo Soporte</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECCI√ìN: TECNOLOG√çAS IMPLEMENTADAS -->
        <section class="demo-section" id="tech-features">
            <h2 class="section-title">
                <span class="section-icon" aria-hidden="true">üõ†Ô∏è</span>
                Tecnolog√≠as de Accesibilidad
            </h2>

            <div class="demo-component">
                <h4>üè∑Ô∏è Etiquetas ARIA Completas</h4>
                <ul class="features-list">
                    <li><code>aria-label</code> para botones descriptivos</li>
                    <li><code>role</code> para definir tipos de contenido</li>
                    <li><code>aria-live</code> para anuncios din√°micos</li>
                    <li><code>aria-describedby</code> para ayuda contextual</li>
                    <li><code>aria-expanded</code> para men√∫s desplegables</li>
                </ul>
            </div>

            <div class="demo-component">
                <h4>‚å®Ô∏è Atajos de Teclado</h4>
                <div class="demo-grid">
                    <div class="demo-card">
                        <kbd>Alt + M</kbd> ‚Üí Abrir men√∫ principal
                    </div>
                    <div class="demo-card">
                        <kbd>Alt + S</kbd> ‚Üí Buscar comercios
                    </div>
                    <div class="demo-card">
                        <kbd>Alt + P</kbd> ‚Üí Ver mi pedido
                    </div>
                    <div class="demo-card">
                        <kbd>Alt + H</kbd> ‚Üí Ayuda y soporte
                    </div>
                </div>
            </div>
        </section>

        <!-- PIE DE P√ÅGINA -->
        <footer class="demo-footer">
            <p><strong>YAvoyOk</strong> - Comprometidos con la Accesibilidad Universal</p>
            <p class="footer-text">
                Esta demo muestra las funciones de accesibilidad que se implementar√≠an en el sistema real
            </p>
            <p class="footer-small">
                üåü Cumplimiento WCAG 2.1 ‚Ä¢ üéØ Dise√±o Universal ‚Ä¢ ‚ôø Inclusi√≥n Digital
            </p>
        </footer>
    </main>

    <!-- REGI√ìN DE NOTIFICACIONES EN VIVO -->
    <div class="live-region" id="liveRegion" aria-live="assertive" aria-atomic="true"></div>

    <!-- CHATBOT IA AVANZADO -->
    <script src="js/yavoy-ai-advanced.js"></script>
    
    <script>
        // SISTEMA DE DETECCI√ìN DE DISPOSITIVO
        const DeviceDetector = {
            isMobile: false,
            isTablet: false,
            isDesktop: false,
            hasTouch: false,
            supportsVibration: false,
            supportsOrientation: false,
            
            init() {
                // Detecci√≥n b√°sica de dispositivo
                const userAgent = navigator.userAgent.toLowerCase();
                const isMobileUA = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(userAgent);
                const isTabletUA = /ipad|android(?=.*tablet)|tablet/i.test(userAgent);
                
                // Detecci√≥n por pantalla
                const isMobileScreen = window.innerWidth <= 768;
                const isTabletScreen = window.innerWidth > 768 && window.innerWidth <= 1024;
                
                this.isMobile = isMobileUA && !isTabletUA || isMobileScreen;
                this.isTablet = isTabletUA || (!isMobileUA && isTabletScreen);
                this.isDesktop = !this.isMobile && !this.isTablet;
                
                // Detecci√≥n de capacidades
                this.hasTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
                this.supportsVibration = 'vibrate' in navigator;
                this.supportsOrientation = 'orientation' in window;
                
                // Aplicar clases CSS
                document.body.classList.add(this.getDeviceClass());
                
                // Configurar funcionalidades espec√≠ficas
                this.setupDeviceSpecificFeatures();
                
                console.log('üîç Dispositivo detectado:', {
                    tipo: this.getDeviceType(),
                    touch: this.hasTouch,
                    vibraci√≥n: this.supportsVibration,
                    orientaci√≥n: this.supportsOrientation
                });
            },
            
            getDeviceType() {
                if (this.isMobile) return 'm√≥vil';
                if (this.isTablet) return 'tablet';
                return 'desktop';
            },
            
            getDeviceClass() {
                if (this.isMobile) return 'device-mobile';
                if (this.isTablet) return 'device-tablet';
                return 'device-desktop';
            },
            
            setupDeviceSpecificFeatures() {
                if (this.isMobile) {
                    this.setupMobileFeatures();
                } else if (this.isTablet) {
                    this.setupTabletFeatures();
                } else {
                    this.setupDesktopFeatures();
                }
            },
            
            setupMobileFeatures() {
                // Funcionalidades espec√≠ficas m√≥vil
                
                // Vibraci√≥n para feedback
                if (this.supportsVibration) {
                    window.vibrateOnAction = function(pattern = [100]) {
                        navigator.vibrate(pattern);
                    };
                }
                
                // Orientaci√≥n
                if (this.supportsOrientation) {
                    window.addEventListener('orientationchange', () => {
                        setTimeout(() => {
                            this.handleOrientationChange();
                        }, 500);
                    });
                }
                
                // Touch gestures mejorados
                this.setupTouchGestures();
                
                // Teclado virtual
                this.handleVirtualKeyboard();
                
                // Bot√≥n de instalaci√≥n PWA
                this.setupPWAInstall();
            },
            
            setupTabletFeatures() {
                // Funcionalidades espec√≠ficas tablet
                this.setupTouchGestures();
                this.setupPWAInstall();
            },
            
            setupDesktopFeatures() {
                // Funcionalidades espec√≠ficas desktop
                // Atajos de teclado avanzados
                document.addEventListener('keydown', this.handleDesktopKeyboard);
            },
            
            setupTouchGestures() {
                let touchStartY = 0;
                let touchEndY = 0;
                
                document.addEventListener('touchstart', e => {
                    touchStartY = e.changedTouches[0].screenY;
                }, { passive: true });
                
                document.addEventListener('touchend', e => {
                    touchEndY = e.changedTouches[0].screenY;
                    this.handleSwipeGesture(touchStartY, touchEndY);
                }, { passive: true });
            },
            
            handleSwipeGesture(startY, endY) {
                const swipeThreshold = 50;
                const diff = startY - endY;
                
                if (Math.abs(diff) > swipeThreshold) {
                    if (diff > 0) {
                        // Swipe up - abrir herramientas
                        this.announceToSR('Deslizado hacia arriba detectado');
                    } else {
                        // Swipe down - minimizar herramientas
                        this.announceToSR('Deslizado hacia abajo detectado');
                    }
                }
            },
            
            handleOrientationChange() {
                const orientation = screen.orientation?.angle || window.orientation || 0;
                const isLandscape = Math.abs(orientation) === 90;
                
                document.body.classList.toggle('landscape', isLandscape);
                document.body.classList.toggle('portrait', !isLandscape);
                
                this.announceToSR(`Orientaci√≥n cambiada a ${isLandscape ? 'horizontal' : 'vertical'}`);
            },
            
            handleVirtualKeyboard() {
                // Detectar teclado virtual
                let initialViewportHeight = window.visualViewport ? window.visualViewport.height : window.innerHeight;
                
                const handleViewportChange = () => {
                    if (window.visualViewport) {
                        const currentHeight = window.visualViewport.height;
                        const heightDiff = initialViewportHeight - currentHeight;
                        
                        if (heightDiff > 150) {
                            document.body.classList.add('keyboard-open');
                        } else {
                            document.body.classList.remove('keyboard-open');
                        }
                    }
                };
                
                if (window.visualViewport) {
                    window.visualViewport.addEventListener('resize', handleViewportChange);
                }
            },
            
            setupPWAInstall() {
                let deferredPrompt;
                
                window.addEventListener('beforeinstallprompt', (e) => {
                    e.preventDefault();
                    deferredPrompt = e;
                    this.showInstallButton();
                });
                
                window.addEventListener('appinstalled', () => {
                    this.announceToSR('Aplicaci√≥n instalada exitosamente');
                    console.log('üì± PWA instalada');
                });
            },
            
            showInstallButton() {
                if (!document.getElementById('install-button')) {
                    const installBtn = document.createElement('button');
                    installBtn.id = 'install-button';
                    installBtn.className = 'accessibility-btn mobile-only';
                    installBtn.innerHTML = 'üì± Instalar';
                    installBtn.title = 'Instalar aplicaci√≥n en tu dispositivo';
                    installBtn.onclick = () => this.installPWA();
                    
                    const toolbar = document.querySelector('.accessibility-toolbar');
                    if (toolbar) {
                        toolbar.appendChild(installBtn);
                    }
                }
            },
            
            async installPWA() {
                if (window.deferredPrompt) {
                    window.deferredPrompt.prompt();
                    const { outcome } = await window.deferredPrompt.userChoice;
                    
                    if (outcome === 'accepted') {
                        this.announceToSR('Instalaci√≥n aceptada');
                    } else {
                        this.announceToSR('Instalaci√≥n cancelada');
                    }
                    
                    window.deferredPrompt = null;
                    document.getElementById('install-button')?.remove();
                }
            },
            
            handleDesktopKeyboard(e) {
                // Atajos espec√≠ficos desktop
                if (e.altKey) {
                    switch(e.code) {
                        case 'KeyC':
                            e.preventDefault();
                            toggleContrast();
                            break;
                        case 'KeyV':
                            e.preventDefault();
                            toggleVoiceReader();
                            break;
                        case 'KeyK':
                            e.preventDefault();
                            toggleKeyboardNav();
                            break;
                    }
                }
            },
            
            announceToSR(message) {
                if (typeof announceToSR === 'function') {
                    announceToSR(message);
                }
            }
        };
        
        // Inicializar detecci√≥n al cargar
        document.addEventListener('DOMContentLoaded', () => {
            DeviceDetector.init();
        });

        // ESTADO DE ACCESIBILIDAD
        let accessibilityState = {
            contrast: false,
            fontSize: 'normal',
            voice: false,
            keyboard: false,
            subtitles: false,
            animations: true
        };

        // FUNCIONES DEL CHATBOT IA
        let chatbotAI = null;
        let chatbotMinimized = false;

        function initializeChatbot() {
            // Inicializar el bot con configuraci√≥n de demo
            if (window.YAvoyAIAssistant) {
                chatbotAI = new window.YAvoyAIAssistant({
                    empathy_level: 8,
                    promotional_intensity: 6,
                    response_style: 'friendly',
                    proactive_suggestions: true,
                    upselling_enabled: true,
                    personalization: true,
                    emotion_detection: true,
                    voice_enabled: true
                });

                // Override del m√©todo sendMessage para integrar con nuestra UI
                chatbotAI.sendMessage = function(message, type = 'bot') {
                    addMessageToChat(message, type);
                };
            }
        }

        function addMessageToChat(message, type = 'bot') {
            const messagesContainer = document.getElementById('chatbotMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}-message`;
            
            const avatar = type === 'bot' ? 'ü§ñ' : 'üë§';
            const time = new Date().toLocaleTimeString('es-AR', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });
            
            messageDiv.innerHTML = `
                <div class="message-avatar">${avatar}</div>
                <div class="message-content">
                    <div class="message-text">${message}</div>
                    <div class="message-time">${time}</div>
                </div>
            `;
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            // Leer en voz alta si est√° habilitado
            if (accessibilityState.voice && type === 'bot') {
                speakText(message);
            }
        }

        function sendChatbotMessage() {
            const input = document.getElementById('chatbotInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Agregar mensaje del usuario
            addMessageToChat(message, 'user');
            input.value = '';
            
            // Mostrar indicador de escritura
            showTypingIndicator();
            
            // Procesar mensaje con IA
            setTimeout(async () => {
                removeTypingIndicator();
                
                if (chatbotAI && chatbotAI.processMessage) {
                    try {
                        const response = await chatbotAI.processMessage(message);
                        addMessageToChat(response, 'bot');
                    } catch (error) {
                        console.error('Error procesando mensaje:', error);
                        addMessageToChat(generateFallbackResponse(message), 'bot');
                    }
                } else {
                    // Respuesta demo si el sistema IA no est√° disponible
                    addMessageToChat(generateDemoResponse(message), 'bot');
                }
                
                announceToSR('Nueva respuesta del asistente recibida');
                showNotification('Respuesta recibida', 'info');
            }, 1500);
        }

        function generateDemoResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // Detecci√≥n de emociones b√°sica
            if (lowerMessage.includes('frustrado') || lowerMessage.includes('molesto') || lowerMessage.includes('problema')) {
                return `üòî Entiendo perfectamente tu frustraci√≥n. Lamento que est√©s pasando por esto. Mi prioridad absoluta es ayudarte ahora mismo para resolver el problema.

ü§ù **Vamos paso a paso:**
1. Primero, cu√©ntame exactamente qu√© est√° ocurriendo
2. Te brindar√© una soluci√≥n personalizada
3. Seguiremos en contacto hasta que est√© resuelto

üíô Tu experiencia es muy importante para nosotros. ¬øPuedes describirme el problema espec√≠fico?

üéÅ **Como disculpa por las molestias:** En tu pr√≥ximo pedido tendr√°s env√≠o gratis.`;
            }

            if (lowerMessage.includes('comercio') || lowerMessage.includes('vender') || lowerMessage.includes('negocio')) {
                return `üè™ ¬°Excelente! Me emociona que quieras unirte a la familia YAvoy. Transformaremos tu negocio completamente.

üí∞ **¬øSab√≠as que nuestros socios aumentan sus ventas hasta 300%?**

**Registro GRATUITO incluye:**
‚ú® Sin costos de alta ni mensualidades
üìà Panel de gesti√≥n profesional
üéØ Marketing autom√°tico de tus productos
üöÄ Acceso a miles de clientes activos
üíº Soporte dedicado 24/7

**Proceso s√∫per simple:**
1. Formulario de 2 minutos
2. Verificaci√≥n en 24hs
3. Capacitaci√≥n gratuita
4. ¬°Primeros pedidos al d√≠a siguiente!

üéÅ **OFERTA ESPECIAL:** Primer mes sin comisiones + kit de bienvenida GRATIS

¬øEmpezamos con tu registro ahora?`;
            }

            if (lowerMessage.includes('no entiendo') || lowerMessage.includes('confuso') || lowerMessage.includes('ayuda')) {
                return `üòä No te preocupes para nada, es completamente normal tener dudas. Estoy aqu√≠ espec√≠ficamente para hacer todo s√∫per claro y sencillo.

üéØ **D√©jame explicarte paso a paso:**

YAvoy es una plataforma que conecta:
üë§ **Clientes** (que quieren pedir comida/productos)
üè™ **Comercios** (que venden y preparan)
üö¥ **Repartidores** (que entregan)

**¬øEres cliente?** ‚Üí Eliges comercio, haces pedido, llega a tu casa
**¬øTienes comercio?** ‚Üí Te registras gratis, recibes pedidos, ganas dinero
**¬øQuieres repartir?** ‚Üí Te anotas, aceptas entregas, ganas por cada una

üí° **¬øQu√© necesitas hacer espec√≠ficamente?** Cu√©ntame y te gu√≠o paso a paso sin apuros.`;
            }

            // Respuesta general emp√°tica
            return `¬°Hola! üëã Gracias por escribirme. Recib√≠ tu mensaje: "${message}"

ü§ñ Soy el asistente IA de YAvoy y estoy aqu√≠ para ayudarte de la manera m√°s personalizada posible.

**Puedo ayudarte con:**
üõí Hacer pedidos y seguimiento
üè™ Informaci√≥n para comercios
üö¥ Trabajar como repartidor
üí≥ Soporte de pagos
üîß Problemas t√©cnicos
‚ùì Cualquier duda que tengas

üí° **Para darte la mejor ayuda:** ¬øPodr√≠as contarme un poco m√°s sobre qu√© necesitas exactamente?

‚ú® Estoy configurado para ser emp√°tico, detectar emociones y ofrecerte promociones personalizadas seg√∫n tu situaci√≥n.`;
        }

        function generateFallbackResponse(message) {
            return `ü§î Recib√≠ tu mensaje pero tengo un problema t√©cnico temporal. 

üíô A√∫n as√≠ quiero ayudarte. Puedes contactar directamente con nuestro equipo:
üì± WhatsApp: +54 221 504 7962
üìß Email: YAvoy5@gmail.com

O vuelve a intentar tu consulta en unos segundos. ¬°Lamento las molestias!`;
        }

        function sendQuickMessage(message) {
            document.getElementById('chatbotInput').value = message;
            sendChatbotMessage();
        }

        function handleChatbotKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendChatbotMessage();
            }
        }

        function showTypingIndicator() {
            const messagesContainer = document.getElementById('chatbotMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.id = 'typing-indicator';
            typingDiv.innerHTML = `
                <div class="message-avatar">ü§ñ</div>
                <div class="message-content">
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            `;
            
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function toggleChatbot() {
            const container = document.getElementById('chatbotContainer');
            const toggle = document.querySelector('.chatbot-toggle');
            
            chatbotMinimized = !chatbotMinimized;
            
            if (chatbotMinimized) {
                container.style.height = '70px';
                container.style.overflow = 'hidden';
                toggle.textContent = '‚ûï';
                toggle.setAttribute('aria-label', 'Expandir chatbot');
            } else {
                container.style.height = 'auto';
                container.style.overflow = 'visible';
                toggle.textContent = '‚ûñ';
                toggle.setAttribute('aria-label', 'Minimizar chatbot');
            }
        }

        function updateBotConfig(type, value) {
            if (chatbotAI) {
                switch (type) {
                    case 'empathy':
                        chatbotAI.updateConfig({ empathy_level: parseInt(value) });
                        document.getElementById('empathy-value').textContent = `${value}/10`;
                        addMessageToChat(`üéõÔ∏è Nivel de empat√≠a actualizado a ${value}/10. Ahora ser√© ${value > 7 ? 'muy emp√°tico' : value > 4 ? 'moderadamente emp√°tico' : 'm√°s directo'}.`, 'system');
                        break;
                    case 'promotional':
                        chatbotAI.updateConfig({ promotional_intensity: parseInt(value) });
                        document.getElementById('promo-value').textContent = `${value}/10`;
                        addMessageToChat(`üì¢ Intensidad promocional ajustada a ${value}/10. ${value > 7 ? 'Te har√© m√°s ofertas' : value > 4 ? 'Ofertas moderadas' : 'Enfoque en ayuda directa'}.`, 'system');
                        break;
                    case 'style':
                        chatbotAI.updateConfig({ response_style: value });
                        const styleNames = { friendly: 'amigable', professional: 'profesional', casual: 'casual' };
                        addMessageToChat(`üé® Estilo cambiado a ${styleNames[value]}. Mis respuestas ahora ser√°n m√°s ${styleNames[value]}.`, 'system');
                        break;
                }
            } else {
                showNotification(`Configuraci√≥n actualizada: ${type} = ${value}`, 'info');
            }
        }

        function setBotMode(mode) {
            const configs = {
                accessibility: {
                    empathy_level: 9,
                    promotional_intensity: 2,
                    response_style: 'friendly',
                    simple_language: true,
                    voice_enabled: true
                },
                business: {
                    empathy_level: 6,
                    promotional_intensity: 9,
                    response_style: 'professional',
                    upselling_enabled: true
                },
                support: {
                    empathy_level: 10,
                    promotional_intensity: 1,
                    response_style: 'friendly',
                    proactive_suggestions: true
                }
            };
            
            const config = configs[mode];
            const modeNames = {
                accessibility: 'Accesibilidad',
                business: 'Comercial',
                support: 'Soporte'
            };
            
            if (chatbotAI && config) {
                chatbotAI.updateConfig(config);
                
                // Actualizar controles visuales
                if (config.empathy_level) {
                    document.getElementById('empathy-demo').value = config.empathy_level;
                    document.getElementById('empathy-value').textContent = `${config.empathy_level}/10`;
                }
                if (config.promotional_intensity) {
                    document.getElementById('promo-demo').value = config.promotional_intensity;
                    document.getElementById('promo-value').textContent = `${config.promotional_intensity}/10`;
                }
                if (config.response_style) {
                    document.getElementById('style-demo').value = config.response_style;
                }
                
                addMessageToChat(`üîÑ Modo ${modeNames[mode]} activado. Mi personalidad y respuestas se han ajustado para esta configuraci√≥n espec√≠fica.`, 'system');
            } else {
                showNotification(`Modo ${modeNames[mode]} activado`, 'success');
                addMessageToChat(`üîÑ Modo ${modeNames[mode]} activado. He ajustado mi personalidad para este contexto espec√≠fico.`, 'system');
            }
        }

        function speakText(text) {
            if ('speechSynthesis' in window && accessibilityState.voice) {
                // Limpiar HTML tags para speech synthesis
                const cleanText = text.replace(/<[^>]*>/g, '').replace(/[ü§ñüòäüíôüéâ‚ú®üîÑüì¢üéõÔ∏èüé®]/g, '');
                
                const utterance = new SpeechSynthesisUtterance(cleanText);
                utterance.lang = 'es-ES';
                utterance.rate = 0.9;
                utterance.pitch = 1;
                
                window.speechSynthesis.speak(utterance);
            }
        }

        // Inicializar el chatbot cuando se carga el sistema IA
        setTimeout(() => {
            initializeChatbot();
        }, 3000);

        // FUNCIONES DE ACCESIBILIDAD EXISTENTES

        function toggleContrast() {
            accessibilityState.contrast = !accessibilityState.contrast;
            const body = document.getElementById('body');
            
            if (accessibilityState.contrast) {
                body.classList.add('high-contrast');
                announceToSR('Modo alto contraste activado');
                showNotification('Alto contraste activado', 'success');
                
                // Vibraci√≥n en m√≥viles para confirmaci√≥n
                if (DeviceDetector.isMobile && window.vibrateOnAction) {
                    window.vibrateOnAction([100, 50, 100]);
                }
            } else {
                body.classList.remove('high-contrast');
                announceToSR('Modo alto contraste desactivado');
                showNotification('Alto contraste desactivado', 'info');
                
                // Vibraci√≥n diferente para desactivaci√≥n
                if (DeviceDetector.isMobile && window.vibrateOnAction) {
                    window.vibrateOnAction([50]);
                }
            }
            
            updateButtonState('Contraste', accessibilityState.contrast);
            
            // Persistir configuraci√≥n para dispositivo m√≥vil
            if (DeviceDetector.isMobile) {
                localStorage.setItem('yavoy_contrast_mobile', accessibilityState.contrast);
            }
        }

        function changeFontSize(action) {
            const body = document.getElementById('body');
            const sizes = ['normal', 'large', 'xl', 'xxl'];
            let currentIndex = sizes.indexOf(accessibilityState.fontSize);
            
            if (action === 'increase' && currentIndex < sizes.length - 1) {
                currentIndex++;
            } else if (action === 'decrease' && currentIndex > 0) {
                currentIndex--;
            }
            
            // Remover clases anteriores
            sizes.forEach(size => body.classList.remove(`font-${size}`));
            
            // Aplicar nueva clase
            accessibilityState.fontSize = sizes[currentIndex];
            body.classList.add(`font-${accessibilityState.fontSize}`);
            
            const sizeNames = {
                normal: 'normal',
                large: 'grande',
                xl: 'muy grande', 
                xxl: 'extra grande'
            };
            
            announceToSR(`Tama√±o de fuente cambiado a ${sizeNames[accessibilityState.fontSize]}`);
            showNotification(`Texto: ${sizeNames[accessibilityState.fontSize]}`, 'info');
        }

        function toggleVoiceReader() {
            accessibilityState.voice = !accessibilityState.voice;
            
            if (accessibilityState.voice) {
                announceToSR('Lector de voz activado. Los elementos se leer√°n autom√°ticamente.');
                showNotification('Lector de voz activado', 'success');
                
                // Configuraciones espec√≠ficas para m√≥vil
                if (DeviceDetector.isMobile) {
                    // Vibraci√≥n para confirmaci√≥n
                    if (window.vibrateOnAction) {
                        window.vibrateOnAction([200, 100, 200]);
                    }
                    
                    // Configurar voz para m√≥vil (m√°s lenta y clara)
                    if (window.speechSynthesis) {
                        window.speechSynthesis.cancel();
                        const utterance = new SpeechSynthesisUtterance('Lector de voz activado para m√≥vil. Velocidad optimizada.');
                        utterance.rate = 0.8;
                        utterance.pitch = 1.0;
                        utterance.volume = 0.8;
                        window.speechSynthesis.speak(utterance);
                    }
                    
                    // Persistir para m√≥vil
                    localStorage.setItem('yavoy_voice_mobile', 'true');
                }
            } else {
                announceToSR('Lector de voz desactivado');
                showNotification('Lector de voz desactivado', 'info');
                // Detener cualquier lectura en curso
                window.speechSynthesis.cancel();
                
                if (DeviceDetector.isMobile) {
                    if (window.vibrateOnAction) {
                        window.vibrateOnAction([100]);
                    }
                    localStorage.setItem('yavoy_voice_mobile', 'false');
                }
            }
            
            updateButtonState('Voz', accessibilityState.voice);
        }

        function toggleKeyboardNav() {
            accessibilityState.keyboard = !accessibilityState.keyboard;
            const body = document.getElementById('body');
            
            if (accessibilityState.keyboard) {
                body.classList.add('keyboard-navigation');
                announceToSR('Navegaci√≥n por teclado mejorada activada');
                showNotification('Navegaci√≥n por teclado activada', 'success');
            } else {
                body.classList.remove('keyboard-navigation');
                announceToSR('Navegaci√≥n por teclado normal');
                showNotification('Navegaci√≥n por teclado normal', 'info');
            }
            
            updateButtonState('Teclado', accessibilityState.keyboard);
        }

        function toggleSubtitles() {
            accessibilityState.subtitles = !accessibilityState.subtitles;
            
            if (accessibilityState.subtitles) {
                announceToSR('Subt√≠tulos activados para contenido multimedia');
                showNotification('Subt√≠tulos activados', 'success');
            } else {
                announceToSR('Subt√≠tulos desactivados');
                showNotification('Subt√≠tulos desactivados', 'info');
            }
            
            updateButtonState('Subt√≠tulos', accessibilityState.subtitles);
        }

        function pauseAnimations() {
            accessibilityState.animations = !accessibilityState.animations;
            
            if (!accessibilityState.animations) {
                // Agregar CSS para detener animaciones
                const style = document.createElement('style');
                style.id = 'pause-animations';
                style.textContent = `
                    *, *::before, *::after {
                        animation-duration: 0.01ms !important;
                        animation-iteration-count: 1 !important;
                        transition-duration: 0.01ms !important;
                    }
                `;
                document.head.appendChild(style);
                
                announceToSR('Animaciones pausadas');
                showNotification('Animaciones pausadas', 'success');
            } else {
                // Remover estilo de pausa
                const style = document.getElementById('pause-animations');
                if (style) style.remove();
                
                announceToSR('Animaciones reactivadas');
                showNotification('Animaciones reactivadas', 'info');
            }
            
            updateButtonState('Animaciones', !accessibilityState.animations);
        }

        function resetAccessibility() {
            // Resetear todos los estados
            accessibilityState = {
                contrast: false,
                fontSize: 'normal',
                voice: false,
                keyboard: false,
                subtitles: false,
                animations: true
            };
            
            const body = document.getElementById('body');
            
            // Remover todas las clases
            body.classList.remove('high-contrast', 'keyboard-navigation');
            body.className = body.className.replace(/font-\w+/g, '').trim();
            body.classList.add('font-normal');
            
            // Remover estilo de animaciones
            const style = document.getElementById('pause-animations');
            if (style) style.remove();
            
            // Detener s√≠ntesis de voz
            window.speechSynthesis.cancel();
            
            // Resetear botones
            document.querySelectorAll('.accessibility-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            announceToSR('Configuraci√≥n de accesibilidad restaurada');
            showNotification('Configuraci√≥n restaurada', 'success');
        }

        // FUNCIONES AUXILIARES

        function announceToSR(message) {
            const announceEl = document.getElementById('announce');
            announceEl.textContent = message;
            
            // Limpiar despu√©s de un momento
            setTimeout(() => {
                announceEl.textContent = '';
            }, 1000);
        }

        function showNotification(message, type = 'info') {
            const liveRegion = document.getElementById('liveRegion');
            liveRegion.textContent = message;
            liveRegion.className = `live-region show ${type}`;
            
            setTimeout(() => {
                liveRegion.classList.remove('show');
            }, 3000);
        }

        function updateButtonState(buttonText, isActive) {
            const buttons = document.querySelectorAll('.accessibility-btn');
            buttons.forEach(btn => {
                if (btn.textContent.includes(buttonText)) {
                    if (isActive) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                }
            });
        }

        function demoVoiceReader() {
            if ('speechSynthesis' in window) {
                const text = document.getElementById('voice-demo-text').textContent;
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'es-ES';
                utterance.rate = 0.8;
                utterance.pitch = 1;
                
                window.speechSynthesis.speak(utterance);
                showNotification('Reproduciendo texto con voz', 'info');
            } else {
                showNotification('Lector de voz no disponible en este navegador', 'warning');
            }
        }

        function handleCardInteraction(event) {
            if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                announceToSR('Tarjeta de Pizzer√≠a Mario seleccionada');
                showNotification('Comercio seleccionado: Pizzer√≠a Mario', 'success');
            }
        }

        // NAVEGACI√ìN POR TECLADO MEJORADA
        document.addEventListener('keydown', function(e) {
            // Atajos espec√≠ficos
            if (e.altKey) {
                switch(e.key) {
                    case 'm':
                    case 'M':
                        e.preventDefault();
                        announceToSR('Men√∫ principal abierto');
                        showNotification('Atajo: Men√∫ principal', 'info');
                        break;
                    case 's':
                    case 'S':
                        e.preventDefault();
                        announceToSR('Funci√≥n de b√∫squeda activada');
                        showNotification('Atajo: Buscar comercios', 'info');
                        break;
                    case 'p':
                    case 'P':
                        e.preventDefault();
                        announceToSR('Vista de pedido abierta');
                        showNotification('Atajo: Ver mi pedido', 'info');
                        break;
                    case 'h':
                    case 'H':
                        e.preventDefault();
                        announceToSR('Ayuda y soporte disponible');
                        showNotification('Atajo: Ayuda y soporte', 'info');
                        break;
                }
            }
        });

        // INICIALIZACI√ìN COMPLETA CON DETECCI√ìN DE DISPOSITIVO
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Demo YAvoy - Inicializando...');
            
            // Cargar configuraciones espec√≠ficas del dispositivo
            loadDeviceSpecificSettings();
            
            // Inicializar chatbot
            initializeChatbot();
            
            // Mensaje inicial adaptativo
            const deviceMessage = DeviceDetector.isMobile 
                ? 'Demo m√≥vil de accesibilidad YAvoyOk cargado. Herramientas disponibles en la parte inferior.' 
                : 'Demo de accesibilidad YAvoyOk cargado. Use la barra de herramientas superior para explorar las funciones.';
                
            announceToSR(deviceMessage);
            showNotification(DeviceDetector.isMobile ? 'Demo m√≥vil listo' : 'Demo de accesibilidad listo', 'success');
            
            // Eventos espec√≠ficos del dispositivo
            setupDeviceEventListeners();
            
            // Agregar eventos de focus para lectura autom√°tica
            if (accessibilityState.voice) {
                document.querySelectorAll('button, input, a').forEach(element => {
                    element.addEventListener('focus', function() {
                        if (accessibilityState.voice) {
                            const text = this.getAttribute('aria-label') || this.textContent || this.placeholder || 'Elemento interactivo';
                            announceToSR(text);
                        }
                    });
                });
            }
        });
        
        function loadDeviceSpecificSettings() {
            if (DeviceDetector.isMobile) {
                // Cargar configuraciones m√≥viles guardadas
                const savedContrast = localStorage.getItem('yavoy_contrast_mobile');
                const savedVoice = localStorage.getItem('yavoy_voice_mobile');
                const savedFontSize = localStorage.getItem('yavoy_fontsize_mobile');
                
                if (savedContrast === 'true' && !accessibilityState.contrast) {
                    toggleContrast();
                }
                
                if (savedVoice === 'true' && !accessibilityState.voice) {
                    toggleVoiceReader();
                }
                
                if (savedFontSize && savedFontSize !== 'normal') {
                    accessibilityState.fontSize = savedFontSize;
                    document.getElementById('body').classList.add(`font-${savedFontSize}`);
                }
                
                console.log('üì± Configuraciones m√≥viles restauradas');
            }
        }
        
        function setupDeviceEventListeners() {
            // Eventos espec√≠ficos m√≥viles
            if (DeviceDetector.isMobile) {
                // Doble tap para activar voz
                let lastTap = 0;
                document.addEventListener('touchend', function(e) {
                    const currentTime = new Date().getTime();
                    const tapLength = currentTime - lastTap;
                    if (tapLength < 500 && tapLength > 0) {
                        const target = e.target;
                        if (target.tagName && !target.closest('button, input, textarea, .accessibility-toolbar')) {
                            announceToSR('Doble toque detectado. ¬øDesea activar el lector de voz?');
                            if (window.vibrateOnAction) {
                                window.vibrateOnAction([100, 100, 100]);
                            }
                        }
                    }
                    lastTap = currentTime;
                });
                
                // Shake para abrir herramientas de accesibilidad
                if (window.DeviceMotionEvent) {
                    let shakeThreshold = 15;
                    let lastUpdate = 0;
                    let x, y, z, lastX, lastY, lastZ;
                    
                    window.addEventListener('devicemotion', function(e) {
                        const acceleration = e.accelerationIncludingGravity;
                        const curTime = new Date().getTime();
                        
                        if ((curTime - lastUpdate) > 100) {
                            const diffTime = curTime - lastUpdate;
                            lastUpdate = curTime;
                            
                            x = acceleration.x;
                            y = acceleration.y;
                            z = acceleration.z;
                            
                            if (lastX && lastY && lastZ) {
                                const speed = Math.abs(x + y + z - lastX - lastY - lastZ) / diffTime * 10000;
                                
                                if (speed > shakeThreshold) {
                                    announceToSR('Movimiento detectado. Mostrando herramientas de accesibilidad.');
                                    document.querySelector('.accessibility-toolbar').scrollIntoView({ behavior: 'smooth' });
                                    
                                    if (window.vibrateOnAction) {
                                        window.vibrateOnAction([200, 100, 200, 100, 200]);
                                    }
                                }
                            }
                            
                            lastX = x;
                            lastY = y;
                            lastZ = z;
                        }
                    });
                }
            }
        }
                    });
                });
            }
        });

        // Detectar preferencias del sistema
        if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
            pauseAnimations();
        }

        if (window.matchMedia('(prefers-contrast: high)').matches) {
            toggleContrast();
        }
        
        // REGISTRO DE SERVICE WORKER PARA PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw-demo.js')
                    .then(function(registration) {
                        console.log('‚úÖ SW registrado con √©xito:', registration.scope);
                        
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    showNotification('Nueva versi√≥n disponible - Recarga para actualizar', 'info');
                                }
                            });
                        });
                    })
                    .catch(function(error) {
                        console.log('‚ùå Error al registrar SW:', error);
                    });
            });
        }
        
        // PWA - Eventos de instalaci√≥n
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            window.deferredPrompt = e;
            
            if (DeviceDetector.isMobile && !document.getElementById('install-button')) {
                DeviceDetector.showInstallButton();
            }
        });
        
        window.addEventListener('appinstalled', () => {
            console.log('üì± PWA instalada exitosamente');
            announceToSR('Aplicaci√≥n YAvoy Accesibilidad instalada en tu dispositivo');
            showNotification('¬°App instalada! Ahora puedes usar YAvoy sin conexi√≥n', 'success');
            
            if (DeviceDetector.isMobile && window.vibrateOnAction) {
                window.vibrateOnAction([200, 100, 200, 100, 400]);
            }
        });
    </script>
</body>
</html>