<!DOCTYPE html>
<html lang="es" data-theme="auto">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="YAvoy v3.1 Enterprise - Panel Cliente Pro. Experiencia premium para clientes">
    <!-- Theme color compatible clientes -->
    <meta name="theme-color" content="#06b6d4">
    <meta name="msapplication-TileColor" content="#06b6d4">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>YAvoy Enterprise - Cliente Pro</title>

    <!-- YAvoy Enterprise System -->
    <link rel="stylesheet" href="css/theme-enhancement.css">
    <link rel="stylesheet" href="styles/premium-system.css">
    <script src="js/theme-color-polyfill.js" defer></script>
    <script src="js/intelligent-router.js" defer></script>

    <!-- Legacy Styles (mantener compatibilidad) -->
    <link rel="stylesheet" href="styles.css?v=13">
    <link rel="stylesheet" href="styles/theme.css">
    <link rel="stylesheet" href="styles/utilities.css">
    <link rel="stylesheet" href="styles/animations-improved.css?v=1">
    <link rel="stylesheet" href="styles/responsive-improved.css?v=1">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Variables para modo oscuro (default) */
        :root,
        [data-theme="dark"] {
            --color-bg-primary: #0f172a;
            --color-bg-secondary: #1e293b;
            --color-text-primary: #f8fafc;
            --color-text-secondary: #cbd5e1;
            --color-border-primary: #334155;
            --color-primary: #06b6d4;
            --color-secondary: #0891b2;
        }

        /* Variables para modo claro */
        [data-theme="light"] {
            --color-bg-primary: #ffffff;
            --color-bg-secondary: #f8fafc;
            --color-text-primary: #0f172a;
            --color-text-secondary: #64748b;
            --color-border-primary: #e2e8f0;
            --color-primary: #06b6d4;
            --color-secondary: #0891b2;
        }

        body {
            font-family: var(--font-family-base);
            background-color: var(--color-bg-primary);
            color: var(--color-text-primary);
            min-height: 100vh;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* HEADER */
        .header {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: var(--spacing-lg);
            box-shadow: var(--shadow-md);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1000px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-title {
            font-size: var(--font-size-2xl);
            font-weight: 700;
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-lg);
            cursor: pointer;
            font-size: var(--font-size-lg);
            transition: all var(--transition-base);
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* CONTAINER */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: var(--spacing-lg);
        }

        /* TRACKING CARD */
        .tracking-card {
            background: linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-bg-tertiary) 100%);
            border: 1px solid var(--color-border-primary);
            border-radius: var(--radius-lg);
            padding: var(--spacing-2xl);
            margin-bottom: var(--spacing-2xl);
            box-shadow: var(--shadow-lg);
        }

        .tracking-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-lg);
            border-bottom: 1px solid var(--color-border-primary);
        }

        .order-number {
            font-size: var(--font-size-xl);
            font-weight: 700;
            color: var(--color-primary);
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-sm);
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: var(--spacing-sm) var(--spacing-lg);
            border-radius: var(--radius-full);
            font-weight: 600;
            font-size: var(--font-size-sm);
        }

        /* TIMELINE */
        .timeline {
            position: relative;
            padding: var(--spacing-2xl) 0;
            margin: var(--spacing-2xl) 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(180deg, #10b981 0%, var(--color-border-primary) 100%);
        }

        .timeline-item {
            margin-bottom: var(--spacing-xl);
            margin-left: var(--spacing-3xl);
            position: relative;
        }

        .timeline-dot {
            position: absolute;
            left: -30px;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: white;
            border: 3px solid #10b981;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: var(--shadow-md);
        }

        .timeline-item.completed .timeline-dot {
            background-color: #10b981;
            color: white;
        }

        .timeline-item.active .timeline-dot {
            animation: pulse 2s infinite;
        }

        .timeline-content {
            background-color: var(--color-bg-primary);
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-border-primary);
        }

        .timeline-title {
            font-weight: 700;
            font-size: var(--font-size-base);
            color: var(--color-text-primary);
        }

        .timeline-time {
            font-size: var(--font-size-sm);
            color: var(--color-text-tertiary);
            margin-top: var(--spacing-sm);
        }

        /* MAP */
        .map-container {
            height: 400px;
            border-radius: var(--radius-lg);
            overflow: hidden;
            margin: var(--spacing-2xl) 0;
            border: 1px solid var(--color-border-primary);
            box-shadow: var(--shadow-lg);
        }

        /* DRIVER INFO */
        .driver-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--spacing-lg);
            margin: var(--spacing-2xl) 0;
        }

        .driver-card {
            background-color: var(--color-bg-secondary);
            border: 1px solid var(--color-border-primary);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            text-align: center;
        }

        .driver-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin: 0 auto var(--spacing-md);
            color: white;
        }

        .driver-name {
            font-weight: 700;
            margin: var(--spacing-md) 0;
        }

        .driver-rating {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .driver-rating .star {
            color: #fbbf24;
        }

        /* ETA SECTION */
        .eta-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: var(--spacing-2xl);
            border-radius: var(--radius-lg);
            text-align: center;
            margin: var(--spacing-2xl) 0;
            box-shadow: var(--shadow-lg);
        }

        .eta-label {
            opacity: 0.9;
            margin-bottom: var(--spacing-md);
        }

        .eta-time {
            font-size: var(--font-size-3xl);
            font-weight: 700;
            margin-bottom: var(--spacing-md);
        }

        .eta-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-lg);
            margin-top: var(--spacing-lg);
            padding-top: var(--spacing-lg);
            border-top: 1px solid rgba(255, 255, 255, 0.3);
        }

        .eta-detail {
            text-align: center;
        }

        .eta-detail-label {
            opacity: 0.9;
            font-size: var(--font-size-sm);
        }

        .eta-detail-value {
            font-weight: 700;
            font-size: var(--font-size-lg);
            margin-top: var(--spacing-xs);
        }

        /* ORDER DETAILS */
        .order-details {
            display: grid;
            gap: var(--spacing-lg);
        }

        .detail-section {
            background-color: var(--color-bg-secondary);
            border: 1px solid var(--color-border-primary);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
        }

        .detail-title {
            font-weight: 700;
            margin-bottom: var(--spacing-md);
            font-size: var(--font-size-lg);
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            padding: var(--spacing-md) 0;
            border-bottom: 1px solid var(--color-border-primary);
        }

        .detail-item:last-child {
            border-bottom: none;
        }

        .detail-label {
            color: var(--color-text-secondary);
        }

        .detail-value {
            font-weight: 600;
            color: var(--color-text-primary);
        }

        /* RATING */
        .rating-section {
            background-color: var(--color-bg-secondary);
            border: 1px solid var(--color-border-primary);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            margin-top: var(--spacing-2xl);
        }

        .rating-stars {
            display: flex;
            gap: var(--spacing-md);
            margin: var(--spacing-lg) 0;
        }

        .rating-star {
            font-size: 2rem;
            cursor: pointer;
            transition: transform var(--transition-base);
        }

        .rating-star:hover {
            transform: scale(1.2);
        }

        .rating-star.active {
            color: #fbbf24;
        }

        /* BUTTONS */
        .btn {
            padding: var(--spacing-md) var(--spacing-lg);
            border: none;
            border-radius: var(--radius-lg);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-base);
            font-size: var(--font-size-base);
            width: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .tracking-header {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--spacing-md);
            }

            .eta-details {
                grid-template-columns: 1fr;
            }

            .map-container {
                height: 300px;
            }

            .driver-info {
                grid-template-columns: 1fr;
            }
        }

        /* ANIMATIONS */
        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }
        }

        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-3xl);
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--color-border-primary);
            border-top-color: #10b981;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>
    <!-- HEADER -->
    <header class="header">
        <div class="header-content">
            <div class="header-title">üöö Mi Pedido</div>
            <button class="theme-toggle" id="themeToggle">üåô</button>
        </div>
    </header>

    <!-- MAIN CONTAINER -->
    <div class="container">
        <!-- TRACKING CARD -->
        <div class="tracking-card">
            <div class="tracking-header">
                <div class="order-number">#PED-001</div>
                <div class="status-badge">
                    <span>üöó</span>
                    <span>En Camino - 5 minutos</span>
                </div>
            </div>

            <!-- TIMELINE -->
            <div class="timeline">
                <div class="timeline-item completed">
                    <div class="timeline-dot">‚úÖ</div>
                    <div class="timeline-content">
                        <div class="timeline-title">Pedido Confirmado</div>
                        <div class="timeline-time">Hace 15 minutos</div>
                    </div>
                </div>

                <div class="timeline-item completed">
                    <div class="timeline-dot">üßë</div>
                    <div class="timeline-content">
                        <div class="timeline-title">Repartidor Asignado</div>
                        <div class="timeline-time">Hace 12 minutos</div>
                    </div>
                </div>

                <div class="timeline-item completed">
                    <div class="timeline-dot">üì¶</div>
                    <div class="timeline-content">
                        <div class="timeline-title">Recogida en Comercio</div>
                        <div class="timeline-time">Hace 8 minutos</div>
                    </div>
                </div>

                <div class="timeline-item active">
                    <div class="timeline-dot">üöó</div>
                    <div class="timeline-content">
                        <div class="timeline-title">En Camino a tu direcci√≥n</div>
                        <div class="timeline-time">En progreso...</div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-dot">üè†</div>
                    <div class="timeline-content">
                        <div class="timeline-title">Entrega en tu domicilio</div>
                        <div class="timeline-time">Pendiente</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ETA SECTION -->
        <div class="eta-section">
            <div class="eta-label">Tiempo estimado de llegada</div>
            <div class="eta-time">‚è±Ô∏è 5 minutos</div>
            <div class="eta-details">
                <div class="eta-detail">
                    <div class="eta-detail-label">Distancia</div>
                    <div class="eta-detail-value">2.3 km</div>
                </div>
                <div class="eta-detail">
                    <div class="eta-detail-label">Hora de Entrega</div>
                    <div class="eta-detail-value">2:35 PM</div>
                </div>
            </div>
        </div>

        <!-- MAP -->
        <div class="map-container" id="mapContainer">
            <div class="w-full h-full d-flex align-center justify-center bg-secondary">
                <p>Cargando mapa...</p>
            </div>
        </div>

        <!-- DRIVER INFO -->
        <h3 class="my-2xl mb-lg">Tu Repartidor ü§ù</h3>
        <div class="driver-info">
            <div class="driver-card">
                <div class="driver-avatar">üë®</div>
                <div class="driver-name">Carlos L√≥pez</div>
                <div class="driver-rating">
                    <span class="star">‚≠ê</span>
                    <span class="font-bold">4.9 (128)</span>
                </div>
                <p class="text-sm mt-md text-secondary">
                    100+ entregas completadas
                </p>
            </div>

            <div class="driver-card">
                <div class="text-4xl mb-md">üìû</div>
                <div class="driver-name">Contacto</div>
                <button class="btn btn-primary mt-md">
                    Llamar
                </button>
                <button class="btn btn-outline border-primary text-primary mt-sm">
                    üí¨ Chat
                </button>
            </div>

            <div class="driver-card">
                <div class="text-4xl mb-md">üìç</div>
                <div class="driver-name">Ubicaci√≥n</div>
                <button class="btn btn-primary mt-md">
                    Ver en Vivo
                </button>
            </div>
        </div>

        <!-- ORDER DETAILS -->
        <h3 class="my-2xl mb-lg">Detalles del Pedido üìã</h3>
        <div class="order-details">
            <div class="detail-section">
                <div class="detail-title">üè™ Comercio</div>
                <div class="detail-item">
                    <span class="detail-label">Nombre</span>
                    <span class="detail-value">Pizzer√≠a La Nonita</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Direcci√≥n</span>
                    <span class="detail-value">Av. Principal 450</span>
                </div>
            </div>

            <div class="detail-section">
                <div class="detail-title">üè† Entrega</div>
                <div class="detail-item">
                    <span class="detail-label">Direcci√≥n</span>
                    <span class="detail-value">Calle Los √Ångeles 123</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">N√∫mero de Apartamento</span>
                    <span class="detail-value">7B</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Instrucciones</span>
                    <span class="detail-value">Tocar timbre 3 veces</span>
                </div>
            </div>

            <div class="detail-section">
                <div class="detail-title">üí∞ Monto</div>
                <div class="detail-item">
                    <span class="detail-label">Subtotal</span>
                    <span class="detail-value">$350</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Env√≠o</span>
                    <span class="detail-value">$50</span>
                </div>
                <div class="detail-item border-none pt-lg border-t-2 border-primary">
                    <span class="detail-label font-bold text-primary">Total</span>
                    <span class="detail-value text-lg text-success">$400</span>
                </div>
            </div>
        </div>

        <!-- RATING SECTION -->
        <div class="rating-section">
            <div class="detail-title">¬øC√≥mo fue tu experiencia? ‚≠ê</div>
            <p class="text-secondary mb-lg">
                Tu opini√≥n nos ayuda a mejorar
            </p>
            <div class="rating-stars">
                <span class="rating-star" onclick="selectRating(1)">‚≠ê</span>
                <span class="rating-star" onclick="selectRating(2)">‚≠ê</span>
                <span class="rating-star" onclick="selectRating(3)">‚≠ê</span>
                <span class="rating-star" onclick="selectRating(4)">‚≠ê</span>
                <span class="rating-star" onclick="selectRating(5)">‚≠ê</span>
            </div>
            <textarea placeholder="Cu√©ntanos tu experiencia..."
                class="w-full min-h-24 p-md border border-primary rounded-lg bg-primary text-primary font-base my-lg"></textarea>
            <button class="btn btn-primary">Enviar Evaluaci√≥n</button>
        </div>
    </div>

    <script src="js/theme.js"></script>
    <script>
        // THEME TOGGLE
        const themeToggle = document.getElementById('themeToggle');
        
        // Cargar tema guardado o usar oscuro por defecto
        const savedTheme = localStorage.getItem('theme') || 'dark';
        applyTheme(savedTheme);
        
        themeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme') || 'dark';
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            applyTheme(newTheme);
        });

        function applyTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            
            // Actualizar icono
            const icon = document.getElementById('themeToggle');
            icon.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
            icon.title = theme === 'dark' ? 'Cambiar a modo claro' : 'Cambiar a modo oscuro';
            
            console.log('‚úÖ Tema cambiado a:', theme);
        }

        function selectRating(stars) {
            const ratingStars = document.querySelectorAll('.rating-star');
            ratingStars.forEach((star, index) => {
                if (index < stars) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }

        // Inicializar
        document.addEventListener('DOMContentLoaded', () => {
            updateThemeIcon();
        });
    </script>
</body>

</html>