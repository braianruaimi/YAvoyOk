<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Soporte T√©cnico 24/7 - YAvoy">
  <title>Soporte T√©cnico - YAvoy</title>
  <link rel="stylesheet" href="styles.css?v=13">
  <link rel="icon" type="image/png" href="icons/icon-yavoy.png">
  <style>
    .soporte-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
      min-height: 100vh;
    }

    .soporte-header {
      text-align: center;
      margin-bottom: 40px;
      padding-top: 60px;
    }

    .soporte-header h1 {
      font-size: 2.5rem;
      color: var(--color-primario);
      margin-bottom: 10px;
    }

    .soporte-subtitle {
      color: var(--color-texto);
      font-size: 1.1rem;
      opacity: 0.9;
    }

    .soporte-grid {
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 30px;
      margin-bottom: 40px;
    }

    /* Chat Widget */
    .chat-widget {
      background: var(--color-superficie);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      display: flex;
      flex-direction: column;
      height: 600px;
      border: 1px solid var(--color-borde);
    }

    .chat-header {
      background: linear-gradient(135deg, var(--color-primario), #0891b2);
      padding: 20px;
      color: white;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .chat-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .chat-info h3 {
      margin: 0;
      font-size: 1.2rem;
    }

    .chat-status {
      font-size: 0.9rem;
      opacity: 0.9;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      background: #10b981;
      border-radius: 50%;
      animation: pulse-status 2s ease-in-out infinite;
    }

    @keyframes pulse-status {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      background: var(--color-fondo);
    }

    .message {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .message.user {
      flex-direction: row-reverse;
    }

    .message-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .message.bot .message-avatar {
      background: linear-gradient(135deg, var(--color-primario), #0891b2);
    }

    .message.user .message-avatar {
      background: var(--color-acento);
    }

    .message-content {
      max-width: 70%;
    }

    .message-bubble {
      padding: 12px 16px;
      border-radius: 12px;
      line-height: 1.6;
    }

    .message.bot .message-bubble {
      background: var(--color-superficie);
      border: 1px solid var(--color-borde);
      border-bottom-left-radius: 4px;
    }

    .message.user .message-bubble {
      background: var(--color-primario);
      color: white;
      border-bottom-right-radius: 4px;
    }

    .message-time {
      font-size: 0.75rem;
      opacity: 0.6;
      margin-top: 4px;
      padding: 0 8px;
    }

    /* Rating Buttons */
    .message-rating {
      display: flex;
      gap: 8px;
      margin-top: 8px;
      padding: 0 8px;
    }

    .rating-btn {
      background: transparent;
      border: 1px solid var(--color-borde);
      border-radius: 6px;
      padding: 4px 12px;
      cursor: pointer;
      font-size: 0.85rem;
      transition: all 0.2s;
      color: var(--color-texto);
    }

    .rating-btn:hover {
      background: var(--color-primario);
      color: white;
      border-color: var(--color-primario);
    }

    .rating-btn.rated {
      background: var(--color-exito);
      color: white;
      border-color: var(--color-exito);
    }

    /* Suggestions */
    .suggestions-container {
      padding: 10px 20px;
      background: var(--color-fondo);
      border-top: 1px solid var(--color-borde);
      display: none;
    }

    .suggestions-container.show {
      display: block;
    }

    .suggestion-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .suggestion-chip {
      padding: 6px 12px;
      background: var(--color-superficie);
      border: 1px solid var(--color-borde);
      border-radius: 16px;
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .suggestion-chip:hover {
      background: var(--color-primario);
      color: white;
      border-color: var(--color-primario);
    }

    /* Chat Controls */
    .chat-controls {
      display: flex;
      gap: 10px;
      padding: 10px 20px;
      background: var(--color-superficie);
      border-top: 1px solid var(--color-borde);
      flex-wrap: wrap;
    }

    .control-btn {
      padding: 6px 12px;
      background: var(--color-fondo);
      border: 1px solid var(--color-borde);
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.85rem;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.2s;
      color: var(--color-texto);
    }

    .control-btn:hover {
      background: var(--color-primario);
      color: white;
    }

    /* Voice Button */
    .voice-btn {
      background: var(--color-acento);
      color: white;
      border: none;
    }

    .voice-btn.recording {
      animation: pulse 1.5s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    /* History Panel */
    .history-panel {
      background: var(--color-superficie);
      border-radius: 12px;
      padding: 20px;
      max-height: 300px;
      overflow-y: auto;
      margin-bottom: 20px;
      border: 1px solid var(--color-borde);
    }

    .history-item {
      padding: 10px;
      margin-bottom: 8px;
      background: var(--color-fondo);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
      border-left: 3px solid var(--color-primario);
    }

    .history-item:hover {
      background: var(--color-superficie);
      transform: translateX(5px);
    }

    .history-date {
      font-size: 0.75rem;
      opacity: 0.6;
    }

    /* Theme Toggle */
    .theme-toggle {
      position: fixed;
      top: 80px;
      right: 20px;
      z-index: 1000;
      background: var(--color-superficie);
      border: 1px solid var(--color-borde);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 24px;
      transition: all 0.3s;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }

    .theme-toggle:hover {
      transform: scale(1.1);
    }

    .chat-input-area {
      padding: 20px;
      background: var(--color-superficie);
      border-top: 1px solid var(--color-borde);
    }

    .chat-input-wrapper {
      display: flex;
      gap: 10px;
      position: relative;
    }

    .chat-input {
      flex: 1;
      padding: 12px 16px;
      border: 1px solid var(--color-borde);
      border-radius: 8px;
      background: var(--color-fondo);
      color: var(--color-texto);
      font-size: 0.95rem;
      resize: none;
      font-family: inherit;
    }

    .chat-input:focus {
      outline: none;
      border-color: var(--color-primario);
    }

    .chat-send-btn {
      padding: 12px 20px;
      background: var(--color-primario);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .chat-send-btn:hover {
      background: #0891b2;
      transform: translateY(-2px);
    }

    .chat-send-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    /* Quick Actions Panel */
    .quick-actions {
      background: var(--color-superficie);
      border-radius: 12px;
      padding: 25px;
      border: 1px solid var(--color-borde);
      height: fit-content;
    }

    .quick-actions h3 {
      color: var(--color-primario);
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .action-card {
      background: var(--color-card);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
      cursor: pointer;
      border: 1px solid var(--color-borde);
      transition: all 0.3s ease;
    }

    .action-card:hover {
      border-color: var(--color-primario);
      transform: translateX(5px);
    }

    .action-card h4 {
      margin: 0 0 8px 0;
      color: var(--color-texto-claro);
      font-size: 1rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .action-card p {
      margin: 0;
      font-size: 0.85rem;
      opacity: 0.8;
      color: var(--color-texto);
    }

    /* Knowledge Base */
    .knowledge-base {
      margin-top: 40px;
    }

    .knowledge-base h2 {
      color: var(--color-primario);
      margin-bottom: 25px;
      text-align: center;
    }

    .kb-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }

    .kb-category {
      background: var(--color-superficie);
      border-radius: 12px;
      padding: 25px;
      border: 1px solid var(--color-borde);
      transition: all 0.3s ease;
    }

    .kb-category:hover {
      border-color: var(--color-primario);
      transform: translateY(-5px);
    }

    .kb-category h3 {
      color: var(--color-texto-claro);
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .kb-item {
      padding: 10px 0;
      border-bottom: 1px solid var(--color-borde);
      cursor: pointer;
      color: var(--color-texto);
      transition: color 0.3s ease;
    }

    .kb-item:hover {
      color: var(--color-primario);
    }

    .kb-item:last-child {
      border-bottom: none;
    }

    .typing-indicator {
      display: flex;
      gap: 4px;
      padding: 12px 16px;
      background: var(--color-superficie);
      border: 1px solid var(--color-borde);
      border-radius: 12px;
      width: fit-content;
    }

    .typing-dot {
      width: 8px;
      height: 8px;
      background: var(--color-primario);
      border-radius: 50%;
      animation: typing 1.4s ease-in-out infinite;
    }

    .typing-dot:nth-child(2) {
      animation-delay: 0.2s;
    }

    .typing-dot:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes typing {
      0%, 60%, 100% {
        transform: translateY(0);
        opacity: 0.7;
      }
      30% {
        transform: translateY(-10px);
        opacity: 1;
      }
    }

    .btn-volver {
      display: inline-block;
      margin-top: 30px;
      padding: 12px 30px;
      background: var(--color-primario);
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .btn-volver:hover {
      background: #0891b2;
      transform: translateY(-2px);
    }

    @media (max-width: 968px) {
      .soporte-grid {
        grid-template-columns: 1fr;
      }

      .chat-widget {
        height: 500px;
      }
    }
  </style>
</head>
<body>
  <div class="soporte-container">
    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle" title="Cambiar tema">üåô</button>

    <div class="soporte-header">
      <h1>ü§ñ Soporte T√©cnico 24/7</h1>
      <p class="soporte-subtitle">Asistente autom√°tico inteligente ‚Ä¢ Respuestas instant√°neas ‚Ä¢ Siempre disponible</p>
    </div>

    <div class="soporte-grid">
      <!-- Chat Widget -->
      <div class="chat-widget">
        <div class="chat-header">
          <div class="chat-avatar">ü§ñ</div>
          <div class="chat-info">
            <h3>Asistente YAvoy</h3>
            <div class="chat-status">
              <span class="status-dot"></span>
              En l√≠nea 24/7
            </div>
          </div>
        </div>

        <!-- Suggestions -->
        <div class="suggestions-container" id="suggestionsContainer">
          <div class="suggestion-chips" id="suggestionChips"></div>
        </div>

        <div class="chat-messages" id="chatMessages">
          <div class="message bot">
            <div class="message-avatar">ü§ñ</div>
            <div class="message-content">
              <div class="message-bubble">
                ¬°Hola! üëã Soy el asistente virtual de YAvoy. Estoy aqu√≠ para ayudarte las 24 horas del d√≠a.
                <br><br>
                ¬øEn qu√© puedo ayudarte hoy?
              </div>
              <div class="message-time" id="initialTime"></div>
            </div>
          </div>
        </div>

        <!-- Chat Controls -->
        <div class="chat-controls">
          <button class="control-btn" id="btnProfile" title="Cambiar perfil de usuario">
            üë§ Perfil
          </button>
          <button class="control-btn" id="btnVoice" title="Hablar por voz">
            üé§ Voz
          </button>
          <button class="control-btn" id="btnHistory" title="Ver historial">
            üìú Historial
          </button>
          <button class="control-btn" id="btnExport" title="Exportar chat">
            üìß Exportar
          </button>
          <button class="control-btn" id="btnClear" title="Limpiar chat">
            üóëÔ∏è Limpiar
          </button>
          <button class="control-btn" id="btnWhatsApp" title="Continuar en WhatsApp">
            üì± WhatsApp
          </button>
        </div>

        <div class="chat-input-area">
          <div class="chat-input-wrapper">
            <textarea 
              id="chatInput" 
              class="chat-input" 
              placeholder="Escribe tu consulta o usa / para comandos r√°pidos..."
              rows="1"
            ></textarea>
            <button id="chatSendBtn" class="chat-send-btn">Enviar</button>
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="quick-actions">
        <h3>‚ö° Consultas R√°pidas</h3>
        
        <div class="action-card" data-question="¬øC√≥mo registro mi comercio?">
          <h4>üè™ Registro de Comercio</h4>
          <p>Pasos para registrar tu negocio</p>
        </div>

        <div class="action-card" data-question="¬øC√≥mo me registro como repartidor?">
          <h4>üö¥ Registro de Repartidor</h4>
          <p>Requisitos y proceso de registro</p>
        </div>

        <div class="action-card" data-question="¬øC√≥mo hago un pedido?">
          <h4>üì¶ Hacer un Pedido</h4>
          <p>Gu√≠a para clientes</p>
        </div>

        <div class="action-card" data-question="Problemas con pagos">
          <h4>üí≥ Problemas de Pago</h4>
          <p>Ayuda con m√©todos de pago</p>
        </div>

        <div class="action-card" data-question="No puedo iniciar sesi√≥n">
          <h4>üîê Acceso a Cuenta</h4>
          <p>Problemas de inicio de sesi√≥n</p>
        </div>

        <div class="action-card" data-question="Contacto con administrador">
          <h4>üë®‚Äçüíº Soporte Humano</h4>
          <p>Hablar con un administrador</p>
        </div>
      </div>
    </div>

    <!-- Knowledge Base -->
    <div class="knowledge-base">
      <h2>üìö Base de Conocimientos</h2>
      <div class="kb-grid">
        <div class="kb-category">
          <h3>üõçÔ∏è Para Clientes</h3>
          <div class="kb-item" data-topic="hacer-pedido">¬øC√≥mo hacer un pedido?</div>
          <div class="kb-item" data-topic="rastrear-pedido">¬øC√≥mo rastrear mi pedido?</div>
          <div class="kb-item" data-topic="cancelar-pedido">¬øPuedo cancelar un pedido?</div>
          <div class="kb-item" data-topic="tiempo-entrega">Tiempos de entrega</div>
          <div class="kb-item" data-topic="costos-envio">Costos de env√≠o</div>
        </div>

        <div class="kb-category">
          <h3>üè™ Para Comercios</h3>
          <div class="kb-item" data-topic="registro-comercio">Proceso de registro</div>
          <div class="kb-item" data-topic="gestionar-pedidos">Gestionar pedidos</div>
          <div class="kb-item" data-topic="actualizar-datos">Actualizar informaci√≥n</div>
          <div class="kb-item" data-topic="horarios">Configurar horarios</div>
          <div class="kb-item" data-topic="promociones">Crear promociones</div>
        </div>

        <div class="kb-category">
          <h3>üö¥ Para Repartidores</h3>
          <div class="kb-item" data-topic="registro-repartidor">Requisitos y registro</div>
          <div class="kb-item" data-topic="ganancias">¬øCu√°nto puedo ganar?</div>
          <div class="kb-item" data-topic="aceptar-pedidos">Aceptar pedidos</div>
          <div class="kb-item" data-topic="pagos-repartidor">Sistema de pagos</div>
          <div class="kb-item" data-topic="disponibilidad">Horarios de trabajo</div>
        </div>

        <div class="kb-category">
          <h3>‚öôÔ∏è Problemas T√©cnicos</h3>
          <div class="kb-item" data-topic="no-carga">La p√°gina no carga</div>
          <div class="kb-item" data-topic="errores-login">Errores al iniciar sesi√≥n</div>
          <div class="kb-item" data-topic="notificaciones">Problemas con notificaciones</div>
          <div class="kb-item" data-topic="actualizar-app">Actualizar la aplicaci√≥n</div>
          <div class="kb-item" data-topic="limpiar-cache">Limpiar cach√©</div>
        </div>
      </div>
    </div>

    <div class="text-center">
      <a href="index.html" class="btn-volver">‚Üê Volver al Inicio</a>
    </div>
  </div>

  <script src="js/soporte-chatbot.js"></script>
</body>
</html>
